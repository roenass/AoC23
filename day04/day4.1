#! /usr/bin/env ruby -an
require 'set'

BEGIN {sum=0}
END {puts "Total points: #{sum}"}

thiscard=0
card, value = $_.split(": ")
winning, numbers = value.split(" | ")
winners= Set.new(winning.split);

numbers.split.each do |n|
    thiscard+=1 if winners === n
end
sum += (2**(thiscard-1)).to_i
